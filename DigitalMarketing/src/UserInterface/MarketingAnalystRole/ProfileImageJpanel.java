/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package UserInterface.MarketingAnalystRole;


import Business.WorkQueue.WorkRequest;
import Business.WorkQueue.productDetailWorkRequest;
import java.awt.Image;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JFrame;

/**
 *
 * @author dhava
 */
public class ProfileImageJpanel extends javax.swing.JPanel {

    /**
     * Creates new form ProfileImageJpanel
     */
   
    ArrayList<String> filepath=new ArrayList<String>();
    public static int indexID=0; 
    public static int Count=0; 
    WorkRequest request;
    
    public ProfileImageJpanel(WorkRequest request) {
        initComponents();
        this.request =request;
        this.filepath= this.request.getPdw().getProductImages();
        Count=filepath.size();
        SetImage();
      }
    
    

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lblmage = new javax.swing.JLabel();
        btnNext = new javax.swing.JButton();
        btnPrevious = new javax.swing.JButton();

        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lblmage.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        lblmage.setOpaque(true);
        add(lblmage, new org.netbeans.lib.awtextra.AbsoluteConstraints(203, 39, 360, 240));

        btnNext.setText("Next");
        btnNext.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNextActionPerformed(evt);
            }
        });
        add(btnNext, new org.netbeans.lib.awtextra.AbsoluteConstraints(590, 170, 140, -1));

        btnPrevious.setText("Previous");
        btnPrevious.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPreviousActionPerformed(evt);
            }
        });
        add(btnPrevious, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 180, 140, -1));
    }// </editor-fold>//GEN-END:initComponents

    private void SetImage()
    {
        try {
            BufferedImage img=ImageIO.read(new File(filepath.get(indexID)));
          // BufferedImage outputimage =new BufferedImage(400, 400, img.getType())
            Image im=img;
            ImageIcon ic =new ImageIcon(im.getScaledInstance(360, 150, Image.SCALE_DEFAULT));
           
            lblmage.setIcon(ic);
        } catch (IOException ex) {
            Logger.getLogger(ProfileImageJpanel.class.getName()).log(Level.SEVERE, null, ex);
        }
    
    }
    
    private void btnPreviousActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPreviousActionPerformed
        // TODO add your handling code here:
        indexID--;
        if (indexID>=0)
        {
              btnPrevious.setEnabled(true);
              SetImage();
              if(indexID<Count)
                {btnNext.setEnabled(true);}
              if(indexID==0)
                { btnPrevious.setEnabled(false);}
            
        } else
        {
            btnPrevious.setEnabled(false);
        }   
        
        
        
    }//GEN-LAST:event_btnPreviousActionPerformed

    private void btnNextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNextActionPerformed
        // TODO add your handling code here:
        indexID++;
        if(indexID<Count)
        {
           
            btnNext.setEnabled(true);
            SetImage();
           if (indexID>0)
           {
                  btnPrevious.setEnabled(true);
           }
           if (indexID==Count-1)
           {
                   btnNext.setEnabled(false);
           }
            
        }
        else
        {
            btnNext.setEnabled(false);
        }   
        
    }//GEN-LAST:event_btnNextActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnNext;
    private javax.swing.JButton btnPrevious;
    private javax.swing.JLabel lblmage;
    // End of variables declaration//GEN-END:variables
}
